{"ast":null,"code":"import React,{useState}from\"react\";import{fetchNewsWithSentiment}from\"../services/api\";import NewsCard from\"../components/NewsCard\";import{Container,Form,Button,Row,Col,Spinner,Alert}from\"react-bootstrap\";import SentimentMeter from\"../components/SentimentMeter\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[query,setQuery]=useState(\"\");const[news,setNews]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const[sentimentScore,setSentimentScore]=useState(null);const[recommendations,setRecommendations]=useState([]);const handleSearch=async()=>{if(!query.trim()){setError(\"Please enter a keyword.\");return;}setLoading(true);setError(\"\");const data=await fetchNewsWithSentiment(query);setNews(data.articles);setSentimentScore(data.sentiment_score);setRecommendations(data.recommendations);setLoading(false);};return/*#__PURE__*/_jsxs(Container,{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center text-white mb-4\",children:\"Market Trend News\"}),/*#__PURE__*/_jsxs(Form,{className:\"d-flex mb-4 justify-content-center\",children:[/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter a topic (e.g. AI, Finance, Stocks)...\",value:query,onChange:e=>setQuery(e.target.value),className:\"w-50 me-2\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleSearch,children:\"Search\"})]}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",className:\"text-center\",children:error}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\"})}),sentimentScore!==null&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Overall Sentiment\"}),/*#__PURE__*/_jsx(SentimentMeter,{score:sentimentScore}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:recommendations[0]})]}),/*#__PURE__*/_jsx(Row,{children:news.length>0?news.map((article,index)=>/*#__PURE__*/_jsxs(Col,{sm:12,md:6,lg:6,children:[\" \",/*#__PURE__*/_jsx(NewsCard,{...article,sentiment:sentimentScore})]},index)):!loading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-muted\",children:\"No news found. Try another keyword.\"})})]});};export default Home;","map":{"version":3,"names":["React","useState","fetchNewsWithSentiment","NewsCard","Container","Form","Button","Row","Col","Spinner","Alert","SentimentMeter","jsx","_jsx","jsxs","_jsxs","Home","query","setQuery","news","setNews","loading","setLoading","error","setError","sentimentScore","setSentimentScore","recommendations","setRecommendations","handleSearch","trim","data","articles","sentiment_score","className","children","Control","type","placeholder","value","onChange","e","target","variant","onClick","animation","score","length","map","article","index","sm","md","lg","sentiment"],"sources":["D:/IBM-Analyzer/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { fetchNewsWithSentiment } from \"../services/api\";\r\nimport NewsCard from \"../components/NewsCard\";\r\nimport { Container, Form, Button, Row, Col, Spinner, Alert } from \"react-bootstrap\";\r\nimport SentimentMeter from \"../components/SentimentMeter\";\r\n\r\nconst Home = () => {\r\n    const [query, setQuery] = useState(\"\");\r\n    const [news, setNews] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n    const [sentimentScore, setSentimentScore] = useState(null);\r\n    const [recommendations, setRecommendations] = useState([]);\r\n\r\n    const handleSearch = async () => {\r\n        if (!query.trim()) {\r\n            setError(\"Please enter a keyword.\");\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setError(\"\");\r\n        \r\n        const data = await fetchNewsWithSentiment(query);\r\n        setNews(data.articles);\r\n        setSentimentScore(data.sentiment_score);\r\n        setRecommendations(data.recommendations);\r\n\r\n        setLoading(false);\r\n    };\r\n\r\n    return (\r\n        <Container className=\"mt-5\">\r\n            <h1 className=\"text-center text-white mb-4\">Market Trend News</h1>\r\n\r\n            {/* Search Bar */}\r\n            <Form className=\"d-flex mb-4 justify-content-center\">\r\n                <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Enter a topic (e.g. AI, Finance, Stocks)...\"\r\n                    value={query}\r\n                    onChange={(e) => setQuery(e.target.value)}\r\n                    className=\"w-50 me-2\"\r\n                />\r\n                <Button variant=\"primary\" onClick={handleSearch}>\r\n                    Search\r\n                </Button>\r\n            </Form>\r\n\r\n            {error && <Alert variant=\"danger\" className=\"text-center\">{error}</Alert>}\r\n            {loading && <div className=\"text-center\"><Spinner animation=\"border\" /></div>}\r\n\r\n            {/* Display Sentiment Analysis */}\r\n            {sentimentScore !== null && (\r\n                <div className=\"text-center mb-4\">\r\n                    <h5>Overall Sentiment</h5>\r\n                    <SentimentMeter score={sentimentScore} />\r\n                    <p className=\"mt-2\">{recommendations[0]}</p>\r\n                </div>\r\n            )}\r\n\r\n            {/* News Cards */}\r\n            <Row>\r\n                {news.length > 0 ? (\r\n                    news.map((article, index) => (\r\n                        <Col key={index} sm={12} md={6} lg={6}> {/* Two cards per row */}\r\n                            <NewsCard {...article} sentiment={sentimentScore} />\r\n                        </Col>\r\n                    ))\r\n                ) : (\r\n                    !loading && <p className=\"text-center text-muted\">No news found. Try another keyword.</p>\r\n                )}\r\n            </Row>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}